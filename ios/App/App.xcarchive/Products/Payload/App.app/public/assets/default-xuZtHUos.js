import{p as H,m as L,a as U,g as C,u as P,c as a,b as G,t as I,d as J,e as K,s as S,f as d,h as Y,i as k,r as N,j as Q,w as T,o as X,k as Z,l as ee,n as te,q as le,v as ae,x as oe,y as q,z as ne,A as se,B as M,C as $,D as V,E as A,F as w,G as F,H as re,I as ue,J as ie,V as ce,K as de}from"./index-KF56cXUu.js";import{V as ve,u as me}from"./app-cT5gNRjW.js";import{m as fe,a as ge,b as he,u as be,c as pe,d as ye,e as Se,V as Ve,f as E,g as z,h as _e,_ as xe}from"./VAvatar-CBxZwzSi.js";import{V as Te}from"./VSelect-CJVt5QYp.js";const O=H({text:String,...L(),...U()},"VToolbarTitle"),W=C()({name:"VToolbarTitle",props:O(),setup(e,c){let{slots:t}=c;return P(()=>{const u=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var n;return[u&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(n=t.default)==null?void 0:n.call(t)])]}})}),{}}}),Be=[null,"prominent","default","comfortable","compact"],j=H({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Be.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...fe(),...L(),...ge(),...he(),...U({tag:"header"}),...G()},"VToolbar"),D=C()({name:"VToolbar",props:j(),setup(e,c){var g;let{slots:t}=c;const{backgroundColorClasses:u,backgroundColorStyles:n}=be(I(e,"color")),{borderClasses:l}=pe(e),{elevationClasses:s}=ye(e),{roundedClasses:i}=Se(e),{themeClasses:h}=J(e),{rtlClasses:_}=K(),v=S(!!(e.extended||(g=t.extension)!=null&&g.call(t))),m=d(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),p=d(()=>v.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Y({VBtn:{variant:"text"}}),P(()=>{var B;const r=!!(e.title||t.title),f=!!(t.image||e.image),y=(B=t.extension)==null?void 0:B.call(t);return v.value=!!(e.extended||y),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},u.value,l.value,s.value,i.value,h.value,_.value,e.class],style:[n.value,e.style]},{default:()=>[f&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(E,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Ve,{key:"image-img",cover:!0,src:e.image},null)]),a(E,{defaults:{VTabs:{height:k(m.value)}}},{default:()=>{var o,b,x;return[a("div",{class:"v-toolbar__content",style:{height:k(m.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(o=t.prepend)==null?void 0:o.call(t)]),r&&a(W,{key:"title",text:e.title},{text:t.title}),(b=t.default)==null?void 0:b.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(x=t.append)==null?void 0:x.call(t)])])]}}),a(E,{defaults:{VTabs:{height:k(p.value)}}},{default:()=>[a(ve,null,{default:()=>[v.value&&a("div",{class:"v-toolbar__extension",style:{height:k(p.value)}},[y])]})]})]})}),{contentHeight:m,extensionHeight:p}}}),ke=H({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function He(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=c;let u=0,n=0;const l=N(null),s=S(0),i=S(0),h=S(0),_=S(!1),v=S(!1),m=d(()=>Number(e.scrollThreshold)),p=d(()=>Q((m.value-s.value)/m.value||0)),g=()=>{const r=l.value;if(!r||t&&!t.value)return;u=s.value,s.value="window"in r?r.pageYOffset:r.scrollTop;const f=r instanceof Window?document.documentElement.scrollHeight:r.scrollHeight;if(n!==f){n=f;return}v.value=s.value<u,h.value=Math.abs(s.value-m.value)};return T(v,()=>{i.value=i.value||s.value}),T(_,()=>{i.value=0}),X(()=>{T(()=>e.scrollTarget,r=>{var y;const f=r?document.querySelector(r):window;f&&f!==l.value&&((y=l.value)==null||y.removeEventListener("scroll",g),l.value=f,l.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Z(()=>{var r;(r=l.value)==null||r.removeEventListener("scroll",g)}),t&&T(t,g,{immediate:!0}),{scrollThreshold:m,currentScroll:s,currentThreshold:h,isScrollActive:_,scrollRatio:p,isScrollingUp:v,savedScroll:i}}const Ce=H({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...j(),...ee(),...ke(),height:{type:[Number,String],default:64}},"VAppBar"),Pe=C()({name:"VAppBar",props:Ce(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const u=N(),n=te(e,"modelValue"),l=d(()=>{var b;const o=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:o.has("hide"),fullyHide:o.has("fully-hide"),inverted:o.has("inverted"),collapse:o.has("collapse"),elevate:o.has("elevate"),fadeImage:o.has("fade-image")}}),s=d(()=>{const o=l.value;return o.hide||o.fullyHide||o.inverted||o.collapse||o.elevate||o.fadeImage||!n.value}),{currentScroll:i,scrollThreshold:h,isScrollingUp:_,scrollRatio:v}=He(e,{canScroll:s}),m=d(()=>l.value.hide||l.value.fullyHide),p=d(()=>e.collapse||l.value.collapse&&(l.value.inverted?v.value>0:v.value===0)),g=d(()=>e.flat||l.value.fullyHide&&!n.value||l.value.elevate&&(l.value.inverted?i.value>0:i.value===0)),r=d(()=>l.value.fadeImage?l.value.inverted?1-v.value:v.value:void 0),f=d(()=>{var x,R;if(l.value.hide&&l.value.inverted)return 0;const o=((x=u.value)==null?void 0:x.contentHeight)??0,b=((R=u.value)==null?void 0:R.extensionHeight)??0;return m.value?i.value<h.value||l.value.fullyHide?o+b:o:o+b});le(d(()=>!!e.scrollBehavior),()=>{ne(()=>{m.value?l.value.inverted?n.value=i.value>h.value:n.value=_.value||i.value<h.value:n.value=!0})});const{ssrBootStyles:y}=ae(),{layoutItemStyles:B}=oe({id:e.name,order:d(()=>parseInt(e.order,10)),position:I(e,"location"),layoutSize:f,elementSize:S(void 0),active:n,absolute:I(e,"absolute")});return P(()=>{const o=D.filterProps(e);return a(D,q({ref:u,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":r.value,height:void 0,...y.value},e.style]},o,{collapse:p.value,flat:g.value}),t)}),{}}}),we=C()({name:"VAppBarTitle",props:O(),setup(e,c){let{slots:t}=c;return P(()=>a(W,q(e,{class:"v-app-bar-title"}),t)),{}}}),Ee={class:"ga-4"},Ie={__name:"AppTopBar",setup(e){const c=me(),t=se();function u(){t.push({path:"/mainWindow",query:{skipAutoEnter:!0}})}function n(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}return(l,s)=>(M(),$(Pe,{elevation:2,class:"position-fixed"},{append:V(()=>[A("div",Ee,[a(z,{onClick:u},{default:V(()=>s[1]||(s[1]=[w("回到主页")])),_:1}),a(z,{onClick:s[0]||(s[0]=i=>F(t).push("/about"))},{default:V(()=>s[2]||(s[2]=[w("关于")])),_:1}),a(_e,{icon:"mdi-fullscreen",onClick:n})])]),default:V(()=>[a(we,null,{default:V(()=>[w(re(F(c).appHeader),1)]),_:1})]),_:1}))}},Ae={class:"scale-control"},Ne=ue({__name:"default",setup(e){const c=["25%","50%","75%","100%","125%","150%","175%","200%"],t=N("100%");return T(t,u=>{document.documentElement.style.fontSize=u}),(u,n)=>{const l=Ie,s=ie("router-view");return M(),$(de,null,{default:V(()=>[a(l),a(ce,{class:"no-scrollbar"},{default:V(()=>[a(s)]),_:1}),A("div",Ae,[a(Te,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=i=>t.value=i),items:c,label:"选择字体大小",class:"scale-select"},null,8,["modelValue"]),n[1]||(n[1]=A("div",{class:"scale-label"},"调整字体大小",-1))])]),_:1})}}}),Le=xe(Ne,[["__scopeId","data-v-feac2326"]]);export{Le as default};
